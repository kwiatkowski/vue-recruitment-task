(()=>{var e={648:(e,t,s)=>{"use strict";var o=s(328),n=s(760),a=s(752);const r={class:"table__wrap"},l={key:1};function i(e,t,s,o,i,c){const d=(0,n.E1)("ListSearch"),u=(0,n.E1)("ListHeader"),p=(0,n.E1)("PostItem"),g=(0,n.E1)("ListFooter"),h=(0,n.E1)("Modal"),m=(0,n.iS)("loader");return(0,n.Wz)(),(0,n.An)(n.ae,null,[(0,n.QD)("h1",null,(0,a.WA)(e.$t("post.list.title")),1),(0,n.wt)(((0,n.Wz)(),(0,n.An)("div",r,[(0,n.K2)(d,{search:i.searchPostByTitle,onUpdateSearch:c.updateSearchPostByTitle},null,8,["search","onUpdateSearch"]),e.postListLoader&&e.postListLoader.hasOwnProperty("isLoading")&&!e.postListLoader.isLoading?((0,n.Wz)(),(0,n.An)(n.ae,{key:0},[c.renderedPostList.length>0?((0,n.Wz)(),(0,n.An)(n.ae,{key:0},[(0,n.QD)("table",null,[(0,n.K2)(u,{columns:e.postListColumns},null,8,["columns"]),(0,n.QD)("tbody",null,[e.postList.length>0?((0,n.Wz)(!0),(0,n.An)(n.ae,{key:0},(0,n.mi)(c.renderedPostList,((s,o)=>((0,n.Wz)(),(0,n.Az)(p,{item:s,itemIndex:o+(e.postListCurrentPage*i.postPerPage-i.postPerPage),columns:e.postListColumns,onDeletePost:t[0]||(t[0]=e=>c.modalShow("modalDelete",e))},null,8,["item","itemIndex","columns"])))),256)):(0,n.g1)("",!0)])]),i.searchPostByTitle?(0,n.g1)("",!0):((0,n.Wz)(),(0,n.Az)(g,{key:0,totalPages:c.totalPages,currentPage:e.postListCurrentPage,postPerPage:i.postPerPage,onChangePage:c.changePage,onChangePostPerPage:c.changePostPerPage},null,8,["totalPages","currentPage","postPerPage","onChangePage","onChangePostPerPage"]))],64)):((0,n.Wz)(),(0,n.An)("div",l,[(0,n.QD)("h5",null,(0,a.WA)(e.$t("post.list.empty")),1)]))],64)):(0,n.g1)("",!0)])),[[m,{loader:e.postListLoader}]]),(0,n.K2)(h,{ref:"modalDelete",title:e.$t("post.modals.delete.title"),text:e.$t("post.modals.delete.text"),actionText:e.$t("post.modals.delete.action_text"),onAction:c.modalActionDeletePost},null,8,["title","text","actionText","onAction"])],64)}var c=s(936);const d={class:"list__search"},u=["placeholder","value"];function p(e,t,s,o,a,r){return(0,n.Wz)(),(0,n.An)("div",d,[(0,n.QD)("input",{type:"text",placeholder:e.$t("post.list.search"),value:s.search,onInput:t[0]||(t[0]=t=>e.$emit("updateSearch",t.target.value))},null,40,u)])}const g={props:{search:{type:String,default:null}}};var h=s(152);const m=(0,h.c)(g,[["render",p]]),P=m,L={key:0},y=["innerHTML"];function f(e,t,s,o,r,l){return s.columns.length>0?((0,n.Wz)(),(0,n.An)("thead",L,[(0,n.QD)("tr",null,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(s.columns,((t,s)=>((0,n.Wz)(),(0,n.An)("th",{class:(0,a.WN)("col--th-"+t),innerHTML:e.$t("post.list.columns."+t)},null,10,y)))),256))])])):(0,n.g1)("",!0)}const v={props:{columns:{type:Array,default:null}}},b=(0,h.c)(v,[["render",f]]),A=b,_={class:"list__footer"},z={key:0,class:"pager"},T=["innerHTML","onClick"],k={class:"pager__post-per-page"},W=["value"],w=["value","innerHTML"];function x(e,t,s,o,r,l){return(0,n.Wz)(),(0,n.An)("div",_,[s.totalPages>1?((0,n.Wz)(),(0,n.An)("ul",z,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(s.totalPages,((e,t)=>((0,n.Wz)(),(0,n.An)("li",{class:"pager__item",key:t},[(0,n.QD)("a",{class:(0,a.WN)(["pager__link",{"is-active":e===s.currentPage}]),innerHTML:e,onClick:t=>l.changePage(e)},null,10,T)])))),128))])):(0,n.g1)("",!0),(0,n.QD)("div",k,[(0,n.QD)("select",{value:s.postPerPage,onChange:t[0]||(t[0]=(...e)=>l.changePostPerPage&&l.changePostPerPage(...e))},[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(e.listRowOptions,((e,t)=>((0,n.Wz)(),(0,n.An)("option",{key:t,value:e,innerHTML:e},null,8,w)))),128))],40,W)])])}const S={emits:["change-page","change-post-per-page"],props:{totalPages:{type:Number,default:null},currentPage:{type:Number,default:null},postPerPage:{type:Number,default:null}},computed:{...(0,c.ys)(["listRowOptions"])},methods:{changePage(e){this.$emit("change-page",e)},changePostPerPage(e){this.$emit("change-post-per-page",parseInt(e.target.value,10))}}},M=(0,h.c)(S,[["render",x]]),C=M,O={key:0},D=["innerHTML"];function E(e,t,s,o,r,l){return s.columns.length>0?((0,n.Wz)(),(0,n.An)("tr",O,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(s.columns,((o,r)=>((0,n.Wz)(),(0,n.An)("td",{class:(0,a.WN)("col--td-"+o),key:r},[0===r?((0,n.Wz)(),(0,n.An)(n.ae,{key:0},[(0,n.mY)((0,a.WA)(s.itemIndex+1),1)],64)):r===s.columns.length-1?((0,n.Wz)(),(0,n.An)("button",{key:1,onClick:t[0]||(t[0]=e=>l.deletePost()),innerHTML:e.$t("post.list.actions.delete")},null,8,D)):((0,n.Wz)(),(0,n.An)(n.ae,{key:2},[(0,n.mY)((0,a.WA)(s.item[o]),1)],64))],2)))),128))])):(0,n.g1)("",!0)}const H={props:{item:{type:Object,default:null},itemIndex:{type:Number,default:null},columns:{type:Array,default:null}},methods:{deletePost(){this.$emit("delete-post",this.item)}}},j=(0,h.c)(H,[["render",E]]),Q=j,$={key:0,class:"modal__overlay"},I={class:"modal"},N=["innerHTML"],B=["innerHTML"],U={class:"modal__footer"},R=["innerHTML"],F=["innerHTML"];function K(e,t,s,o,a,r){return a.isShow?((0,n.Wz)(),(0,n.An)("div",$,[(0,n.QD)("div",I,[(0,n.QD)("div",{class:"modal__header",innerHTML:s.title},null,8,N),(0,n.QD)("div",{class:"modal__content",innerHTML:s.text+" <strong>"+a.data.title+"</strong>?"},null,8,B),(0,n.QD)("div",U,[(0,n.QD)("button",{onClick:t[0]||(t[0]=(...e)=>r.closeModal&&r.closeModal(...e)),innerHTML:e.$t("post.modals.cancel")},null,8,R),(0,n.QD)("button",{onClick:t[1]||(t[1]=e=>r.handleAction(a.data.id)),innerHTML:s.actionText},null,8,F)])])])):(0,n.g1)("",!0)}const J={props:{title:{type:String,default:null},text:{type:String,default:null},actionText:{type:String,default:null}},data(){return{isShow:!1,data:{}}},methods:{openModal(e){this.data=e,this.isShow=!0},closeModal(){this.isShow=!1},handleAction(e){this.$emit("action",e)}}},Y=(0,h.c)(J,[["render",K]]),Z=Y,q={components:{ListSearch:P,ListHeader:A,ListFooter:C,PostItem:Q,Modal:Z},data(){return{postPerPage:10,searchPostByTitle:null}},computed:{...(0,c.ys)("post",["postList","postListLoader","postListColumns","postListCurrentPage"]),renderedPostList(){if(this.searchPostByTitle){const e=this.searchPostByTitle.toLowerCase();return this.postList.filter((t=>t.title.toLowerCase().includes(e)))}{const e=(this.postListCurrentPage-1)*this.postPerPage,t=e+this.postPerPage;return this.postList.slice(e,t)}},totalPages(){return Math.ceil(this.postList.length/this.postPerPage)}},methods:{...(0,c.sR)("post",["setPostListCurrentPage"]),...(0,c.ae)("post",["getPostList","deletePost"]),init(){this.getPostList()},changePage(e){this.setPostListCurrentPage(e)},changePostPerPage(e){this.postPerPage=e},updateSearchPostByTitle(e){this.searchPostByTitle=e},modalShow(e,t){this.$refs[e].openModal(t)},modalHide(e){this.$refs[e].closeModal()},modalActionDeletePost(e){this.deletePost(e).finally((()=>{this.modalHide("modalDelete")}))}},mounted(){this.init()}},G=(0,h.c)(q,[["render",i]]),V=G,X=(0,c.eC)({state:{listRowOptions:[10,20,50]}}),ee=X,te={key:0,class:"loader__wrap"},se={key:0,class:"loader loader--blur"},oe={key:1,class:"loader"},ne=(0,n.QD)("span",{class:"loader__circle"},null,-1),ae=(0,n.QD)("span",{class:"loader__circle"},null,-1),re=(0,n.QD)("span",{class:"loader__circle"},null,-1),le=(0,n.QD)("span",{class:"loader__circle"},null,-1),ie=[ne,ae,re,le],ce=["innerHTML"];function de(e,t,s,o,a,r){return s.loader.isLoading?((0,n.Wz)(),(0,n.An)("div",te,["blur"===s.type?((0,n.Wz)(),(0,n.An)("div",se)):((0,n.Wz)(),(0,n.An)("div",oe,ie)),s.text?((0,n.Wz)(),(0,n.An)("div",{key:2,class:"loader__text",innerHTML:s.text},null,8,ce)):(0,n.g1)("",!0)])):(0,n.g1)("",!0)}const ue={props:{loader:{type:Object,default:{}},type:{type:String,default:null},text:{type:String,default:null}}},pe=(0,h.c)(ue,[["render",de]]),ge=pe,he={mounted(e,t){const s={loader:t.value.loader,type:t.value.type||null,text:t.value.text||null},a=(0,n.K2)(ge,s),r=(0,n.h)("div",{id:"loader-container"},[a]);(0,o.ai)(r,e)},updated(e,t){const{isLoading:s,isError:o}=t.value.loader;s?e.classList.add("is-loading"):e.classList.remove("is-loading"),o?e.classList.add("is-error"):e.classList.remove("is-error")}},me={install(e){e.directive("loader",he)}};function Pe(e){e.use(me)}var Le=s(774),ye=s(523);function fe(e){e.use(ye.c,Le.c)}var ve=s(440);function be(){const e=s(812),t={};return e.keys().forEach((s=>{const o=s.match(/([A-Za-z0-9-_]+)\./i);if(o&&o.length>1){const n=o[1];t[n]=e(s)}})),t}const Ae=window.navigator.language.slice(0,2).toLowerCase(),_e="pl"===Ae?"pl":"en",ze=(0,ve.ae)({legacy:!1,globalInjection:!0,locale:_e,fallbackLocale:"en",messages:be()}),Te=Le.c.create({baseURL:"https://jsonplaceholder.typicode.com"}),ke={getPostList:()=>Te.get("/posts"),deletePost(e){return Te.delete(`/posts/${e}`)}},We={isLoading:null,isError:null,initialized:!1,apiErrors:null,items:[]},we={loadStart(e,{name:t,items:s=[]}){e[t].isLoading=!0,e[t].isError=!1,e[t].apiErrors=null,e[t].items=s},loadSuccess(e,{name:t}){e[t].isLoading=!1,e[t].isError=!1,e[t].initialized=!0,e[t].apiErrors=null,e[t].items=[]},loadError(e,{name:t,error:s=null}){console.log("error"),e[t].isLoading=!1,e[t].isError=!0,e[t].initialized=!0,e[t].apiErrors=s},updateApiErrors(e,{name:t,errors:s}){e[t].apiErrors=s},clearLoader(e,{name:t}){e[t]={...We}}},xe={states:We,mutations:we},Se={namespaced:!0,state:{postListLoader:{...xe.states},postList:[],postListColumns:["id","title","body","actions"],postListCurrentPage:1},mutations:{...xe.mutations,setPostList(e,t){e.postList=t},deletePost(e,t){const s=e.postList.findIndex((e=>e.id===t));-1!==s&&e.postList.splice(s,1)},setPostListCurrentPage(e,t){e.postListCurrentPage=t}},actions:{getPostList({commit:e}){return e("loadStart",{name:"postListLoader"}),ke.getPostList().then((t=>{e("loadSuccess",{name:"postListLoader"}),e("setPostList",t.data)})).catch((t=>{e("loadError",{name:"postListLoader"}),console.error(t)}))},deletePost({commit:e},t){return e("loadStart",{name:"postListLoader"}),ke.deletePost(t).then((s=>{e("loadSuccess",{name:"postListLoader"}),e("deletePost",t)})).catch((t=>{e("loadError",{name:"postListLoader"}),console.error(t)}))}}};ee.registerModule("post",Se);const Me=(0,o.W0)(V);Me.use(ee),Me.use(ze),Pe(Me),fe(Me),Me.mount("#app")},812:(e,t,s)=>{var o={"./en.json":472,"./pl.json":272};function n(e){var t=a(e);return s(t)}function a(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=812},472:e=>{"use strict";e.exports=JSON.parse('{"post":{"list":{"title":"Lista postów","empty":"Brak postów","search":"Wyszukaj tytuł","columns":{"id":"Id","title":"Tytuł","body":"Treść","actions":""}}}}')},272:e=>{"use strict";e.exports=JSON.parse('{"post":{"list":{"title":"Lista postów","empty":"Brak postów","search":"Wyszukaj tytuł","columns":{"id":"Id","title":"Tytuł","body":"Treść","actions":""},"actions":{"delete":"Usuń"}},"modals":{"cancel":"Anuluj","delete":{"title":"Czy jesteś pewien?","text":"Czy na pewno chcesz usunąć wpis","action_text":"Tak, usuń"}}}}')}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o](a,a.exports,s),a.loaded=!0,a.exports}s.m=e,(()=>{s.amdO={}})(),(()=>{var e=[];s.O=(t,o,n,a)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,n,a]=e[d],l=!0,i=0;i<o.length;i++)(!1&a||r>=a)&&Object.keys(s.O).every((e=>s.O[e](o[i])))?o.splice(i--,1):(l=!1,a<r&&(r=a));if(l){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,n,a]}})(),(()=>{s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={656:0};s.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[r,l,i]=o,c=0;if(r.some((t=>0!==e[t]))){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(i)var d=i(s)}for(t&&t(o);c<r.length;c++)a=r[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},o=self["webpackChunkvue_boilerplate_template"]=self["webpackChunkvue_boilerplate_template"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=s.O(void 0,[999],(()=>s(648)));o=s.O(o)})();
//# sourceMappingURL=index.94050e8d.js.map